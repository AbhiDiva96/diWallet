(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{1444:function(e,t,r){Promise.resolve().then(r.t.bind(r,7960,23)),Promise.resolve().then(r.bind(r,5650)),Promise.resolve().then(r.bind(r,3470)),Promise.resolve().then(r.bind(r,2360)),Promise.resolve().then(r.t.bind(r,1511,23)),Promise.resolve().then(r.t.bind(r,2221,23))},5650:function(e,t,r){"use strict";r.d(t,{Navbar:function(){return f}});var s=r(7437),a=r(7648),n=r(605),i=r(2265);let l=()=>{let[e,t]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{"dark"!==localStorage.getItem("theme")&&("theme"in localStorage||!window.matchMedia("(prefers-color-scheme: dark)").matches)?(document.documentElement.classList.remove("dark"),t(!1)):(document.documentElement.classList.add("dark"),t(!0))},[]),(0,s.jsx)("button",{onClick:()=>{e?(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light")):(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")),t(!e)},className:"bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-gray-200  rounded-full  px-3",children:e?"\uD83C\uDF19":"☀️"})};var d=r(9376),o=r(8536),c=r(3470),u=r(5116),x=r(4485),m=r(362);let h=e=>{let{username:t,onLogout:r}=e,[a,n]=(0,i.useState)(!1),l=(0,i.useRef)(null);return(0,i.useEffect)(()=>{let e=e=>{l.current&&!l.current.contains(e.target)&&n(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,s.jsxs)("div",{className:"relative",ref:l,children:[(0,s.jsx)("button",{onClick:()=>n(!a),className:"flex items-center bg-slate-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 rounded-full ","aria-expanded":a,"aria-haspopup":"true",children:(0,s.jsx)("div",{className:"h-8 w-8 rounded-full bg-blue-500/20 border border-slate-400/20 flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-white text-sm font-medium",children:t.charAt(0).toUpperCase()})})}),a&&(0,s.jsxs)("div",{className:"absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 divide-y divide-gray-100",children:[(0,s.jsxs)("div",{className:"px-4 py-3",children:[(0,s.jsx)("p",{className:"text-sm leading-5",children:"Signed in as"}),(0,s.jsx)("p",{className:"text-sm font-medium leading-5 text-gray-900 truncate",children:t})]}),(0,s.jsxs)("div",{className:"py-1",children:[(0,s.jsxs)("a",{href:"#profile",className:"flex px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900",children:[(0,s.jsx)(m.Z,{className:"mr-3 h-5 w-5 text-gray-400","aria-hidden":"true"}),"Your Profile"]}),(0,s.jsxs)("a",{href:"#settings",className:"flex px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900",children:[(0,s.jsx)(x.Z,{className:"mr-3 h-5 w-5 text-gray-400","aria-hidden":"true"}),"Settings"]})]}),(0,s.jsx)("div",{className:"py-1",children:(0,s.jsxs)("button",{onClick:r,className:"flex w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900",children:[(0,s.jsx)(u.Z,{className:"mr-3 h-5 w-5 text-gray-400","aria-hidden":"true"}),"Sign out"]})})]})]})},f=()=>{var e;let{data:t}=(0,n.useSession)(),r=(0,d.useRouter)(),{totalAmount:i}=(0,c.E)(),u=async()=>{await (0,n.signOut)(),r.push("/")};return(0,s.jsx)("nav",{className:"bg-white dark:bg-gray-900 shadow-md px-4",children:(0,s.jsxs)("div",{className:"container mx-auto flex justify-between items-center py-4",children:[(0,s.jsx)(a.default,{href:"/",children:(0,s.jsx)("div",{className:"flex justify-center text-lg text-black dark:text-white font-bold md:text-xl",children:"YourWallet"})}),(0,s.jsxs)("div",{className:"flex space-x-4",children:[(0,s.jsx)(l,{}),t?(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)("div",{className:" flex justify-center gap-2 dark:bg-gray-400/20 p-2 rounded border border-slate-400/20",children:[(0,s.jsx)("div",{className:"flex justify-center gap-2 dark:text-white",children:(0,s.jsx)(o.Z,{})}),(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)("p",{className:"flex justify-center text-xl ".concat(i<0?"text-red-500":"text-green-500"," font-bold "),children:"₹".concat(i)})})]}),(0,s.jsx)(h,{username:"".concat(null===(e=t.user)||void 0===e?void 0:e.name),onLogout:u})]}):(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(a.default,{href:"/signup",children:(0,s.jsx)("button",{className:"flex justify-center border border-gray-800/20 text-lg text-black dark:text-white font-bold md:text-xl p-2 rounded",children:"Sign Up"})})})]})]})})}},3470:function(e,t,r){"use strict";r.d(t,{E:function(){return d},TotalAmountProvider:function(){return o}});var s=r(7437),a=r(3464),n=r(605),i=r(2265);let l=(0,i.createContext)(void 0),d=()=>{let e=(0,i.useContext)(l);if(void 0===e)throw Error("useTotalAmount must be used within a TotalAmountProvider");return e},o=e=>{let{children:t}=e,[r,d]=(0,i.useState)(0),{data:o,status:c}=(0,n.useSession)();(0,i.useEffect)(()=>{(async()=>{try{let e=await a.Z.get("/api/transactions");setTimeout(()=>{d(e.data.totalTransations)},1e3)}catch(e){console.error()}})()},[o,c]);let u=i.useMemo(()=>({totalAmount:r,setTotalAmount:d}),[r]);return(0,s.jsx)(l.Provider,{value:u,children:t})}},2360:function(e,t,r){"use strict";r.d(t,{default:function(){return n}});var s=r(7437),a=r(605);function n(e){let{children:t}=e;return(0,s.jsx)(a.SessionProvider,{children:t})}},7960:function(){}},function(e){e.O(0,[776,301,605,765,69,971,117,744],function(){return e(e.s=1444)}),_N_E=e.O()}]);